{% extends 'base.html' %}

{% block title %}首页{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center mt-4">
        <div class="col-lg-8">
            <div class="d-flex">
                <h2>文章列表</h2>
                {% if current_user.is_authenticated %}
                <a href="{{ url_for('article.add') }}"
                   class="btn btn-primary d-inline-block ms-auto align-self-center">
                    新增
                </a>
                {% endif %}
            </div>
            <ul class="list-group list-group-flush">
                {% for article in article_list %}
                <li class="list-group-item d-flex px-0">
                    <a href="{{ url_for('article.detail', article_id=article.id) }}"
                       class="link-secondary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                        {{ article.title }}
                    </a>
                    {% if current_user.is_authenticated and current_user.id == article.user_id %}
                    <a href="{{ url_for('article.update', article_id=article.id) }}"
                       class="btn btn-primary btn-sm d-inline-block ms-auto align-self-center">
                        修改
                    </a>
                    <form method="post" action="{{ url_for('article.delete', article_id=article.id) }}"
                          class="d-inline-block ps-2">
                        <button type="submit" class="btn btn-danger btn-sm">删除</button>
                    </form>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
